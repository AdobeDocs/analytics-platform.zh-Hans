---
source-git-commit: 99b190e1afe7068d11fd9d53c5be72008958a9c2
workflow-type: tm+mt
source-wordcount: '1446'
ht-degree: 0%

---
# CJA实验小组统计方法简介

本文介绍了CJA中实验面板使用的统计计算。 CJA使用高级统计方法计算 **置信度** 该函数在任何时间都有效，允许您在所需的时间内运行实验，并持续监控结果。

本文介绍了A/B测试的工作方式，并直观地介绍了Adobe ***任何时间有效置信序列***. 对于专家用户，其技术细节和参考资料最后列出。

## A/B测试和因果关系

A/B测试通常被描述为评估某种“干预”的因果影响的“金本位”。 它们是随机试验，在在线测试的背景下，这意味着我们向一些随机选择的用户展示网站、消息或电子邮件的给定变体，而另一组随机选择的用户则展示给其他某些变体 **变量** 或 **治疗**. 曝光后，我们会测量结果 **量度** 我们感兴趣（例如，打开的电子邮件、订阅或购买）。

如下图所示，我们随机将用户分配到每个变体组的事实意味着这些组平均将共享相同的特征。 因此，任何结果差异都可解释为由于所收到变体的差异，即我们能够建立 **因果** 我们的干预措施与我们感兴趣的结果之间的联系。 这使您能够在优化业务目标时做出严格、可解释的数据驱动决策，因此A/B测试是任何现代个性化从业人员工具包的基本组成部分。

<p style="text-align:center;"><img width="75%" src="img/causal-inference-cartoon.png" alt="因果 — inf"></p>


现在，一个重要的问题是，观察到的差异是“真实效果”，还是由于随机性而产生。 从直觉上讲，如果组之间的结果量度差异很小，那么这种差异可能是偶然观察到的，而较大的差异更可能是“真实的”。 这里的技术术语是我们的测量 *估计* 每个变体组的平均值的真实值。 统计推断技术为我们提供了量化我们估计中不确定性的方法 — 这就是 **p值** 和 **置信区间** 出现，但要了解这些信息，我们首先应了解统计错误。

## 统计测试和控制错误

许多统计推断方法旨在控制两种类型的错误： **误报** （I类错误）和 **漏报** （II类错误）。 下表说明了这些问题。


<p style="text-align:center;"><img width="50%" src="img/contingency_table_stats_errors.png" alt="意外开支表"></p>


误报是对空假说的错误拒绝，实际上是正确的。 在在线A/B测试中，这意味着我们（错误地）认为，结果业务量度在不同臂之间是不同的，但实际上是相同的。 在进行实验之前，我们通常会选择一个阈值 *α*. 实验开始后， *p*-value是计算的，如果 *p &lt;α*. 常用的阈值是 *α*= 0.05，这意味着从长远看，我们预计每100个实验中就有5个是误报。

同时，假否定意味着我们在事实上是假的时候无法拒绝零假设。 对于A/B测试，这意味着我们不会拒绝空假设（回顾，空假设表明，变型臂之间的结果业务量度是相同的），实际上它是不同的。 为了控制这种类型的错误，我们通常需要有足够的用户在我们的实验中保证一定 **电源**，定义为1-*β* （即1减去II类错误的概率）。

大多数统计推断技术都要求您根据要确定的效果大小以及错误容差(*α* 和 *β*)。 但是，Adobe的方法设计为允许您持续查看任何样本量的结果。



## Adobe的统计方法： _任意有效置信序列_

为了提供易于解释和安全的统计推断，Adobe采用了基于 [_任意有效置信序列_](https://doi.org/10.48550/arXiv.2103.06476).

置信序列是置信区间的“连续”模拟值。 要了解置信度序列是什么，请设想重复您的实验100次，并计算平均业务量度（例如，电子邮件的打开率）及其关联的95%置信度序列的估计值，以便 *每位新用户* 进入实验。 95%置信度序列将在您运行的100个实验中的95个实验中包含业务量度的“true”值。 (95%的置信区间在每次实验中只能计算一次，以保证95%的覆盖率；而不是每个新用户)。 因此，置信序列允许您持续监控实验，而不增加误报率，即允许“偷窥”结果。

单个实验的置信序列与置信区间之间的差异在以下动画中显示：

<p style="text-align:center;"><img width="75%" src="img/confidence-sequence-evolution-comparison.gif" alt="CSGIF"></p>


我们注意到置信度序列将A/B测试的焦点转移到 *估计* 而不是假设检验，即专注于对治疗手段之间差异的准确估计，而不是是否拒绝基于统计意义阈值的零假设。

但是，与$p$值（或置信度）与置信区间之间的关系类似，置信序列与任何有效的$p$值（或任何有效的置信度）之间也存在关系。 由于熟悉置信度等数量，因此CJA在其报表中提供了任何有效的置信度。

置信序列的理论基础来自随机变量序列的研究，即鞅。 下面为专家读者提供了一些主要结果，但实际操作者的做法很明确：


> 置信度序列可解释为置信区间的“安全”序列类似物：您可以随时查看和解释A/B测试中的数据，并安全地停止或继续实验。 对应的任何时间有效置信度(或 *p*-value)也可安全解释。

必须指出，由于统计方法是“随时有效”的，因此它比在同一样本量下应用的固定水平方法更为保守。 这表示“任何时候有效” *p* — 值通常大于相应的固定水平 *p*-values（即，任何有效置信度都将变小）

## 解释结果

1. **实验是决定性的**:每次您查看实验报告时，Adobe都会分析在实验中累计到此时刻的数据，并将在任何有效置信度超过95%的阈值时，声明实验为“结论性” *至少一个* （当有两个以上的臂时，应用Bonferonni校正，以校正多假设检验）。

2. **性能最佳的变体**:当实验被宣布为结论性时，转化率最高的变体将被标记为“性能最佳的变体”。 请注意，此变体必须是控制变体或基线变体，或者是在任何有效置信阈值（应用了Bonferonni校正）超过95%的变体之一。

3. **转化率**:显示的转化率是成功量度值与标准化量度值的比率。 请注意，如果量度不是二进制的，则这有时可能大于1（实验中每个单位为1或0）

4. **提升度**:“实验”报表摘要显示基线上的提升度，该提升度是衡量给定变量相对于基线转化率提高百分比的指标。 精确定义时，它是指给定变体与基线之间的性能差异除以基线的性能（以百分比表示）。

5. **置信度**:显示的“任何时间有效置信度”是一个概率度量，用于衡量有多少证据表明给定的变量与控制变量相同。 置信度越高，表明在假设控制变量和非控制变量具有同等性能时，证据就越少。 更准确地说，所显示的置信度是一种概率（以百分比表示），即如果实际上真实的基础转化率没有差异，我们观察到给定变体与控制体之间的转化率差异较小。 在 *p*-values，显示的置信度为1 - *p*-value。

但请注意，对结果的完整描述应考虑所有可用证据（即实验设计、样本量、转化率、置信度等），而不仅仅是结论性或无结论性声明。 即使结果尚未“确定”，仍有令人信服的证据表明一个变体与另一个变体不同（例如，置信区间几乎不重叠）。 理想情况下，决策应根据所有统计证据作出，并以连续谱解释。
