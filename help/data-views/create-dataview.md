---
title: 如何在 Customer Journey Analytics 中创建新数据视图。
description: 描述创建新数据视图所需的所有设置。
exl-id: 02494ef6-cc32-43e8-84a4-6149e50b9d78,35cbf69c-e1e5-4cf0-9bb4-6105d3e4c78e
source-git-commit: 9507bdfa66775e75628426bbb6d177b9bb5a3c6a
workflow-type: tm+mt
source-wordcount: '2974'
ht-degree: 87%

---

# 创建新数据视图

创建数据视图涉及根据架构元素创建量度和维度或利用标准组件。创建量度或维度可为您提供极大的灵活性。之前的假设是，如果您在 Adobe Experience Platform 中有数据集，则将字符串字段用作维度，并将数值字段用作量度。若要更改其中任何这些字段，您必须在 Platform 中修改您的架构。数据视图 UI 现在允许[以更自由格式定义量度和维度](/help/data-views/data-views.md)。如需更多用例，请参阅[数据视图用例](/help/data-views/data-views-usecases.md)。

## 1. 配置数据视图数值和容器

1. 在 Customer Journey Analytics 中，转到&#x200B;**[!UICONTROL 数据视图]**&#x200B;选项卡。
2. 单击&#x200B;**[!UICONTROL 添加]**&#x200B;以创建新数据视图，并配置其设置。

![](assets/new-data-view.png)

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 连接] | 此字段会将数据视图链接到您之前已建立的连接，其中包含一个或多个 Adobe Experience Platform 数据集。 |
| [!UICONTROL 名称] | 必须为数据视图命名。 |
| [!UICONTROL 描述] | 不强制要求提供详细描述，但建议提供。 |
| [!UICONTROL 时区] | 选择您要在哪个时区中显示您的数据。 |
| [!UICONTROL 标记] | [!UICONTROL 标记让您可以将数据视图组织成不同的类别。] |
| [!UICONTROL 容器] | 您可以在此处重命名容器，以确定它们在任何基于此数据视图的工作区项目中的显示方式。  容器用在过滤器和流失/流量等中，以定义范围或上下文的范围或范围。[了解详情](https://experienceleague.adobe.com/docs/analytics-platform/using/cja-components/cja-filters/filters-overview.html?lang=zh-Hans#filter-containers) |
| [!UICONTROL 人员容器名称是…] | [!UICONTROL 人员]（默认）。[!UICONTROL 人员]容器包含指定时间段内访客的每次访问和页面查看。您可以将此容器重命名为“用户”或您喜欢的任何其他术语。 |
| [!UICONTROL 会话容器名称是…] | [!UICONTROL 会话]（默认）。通过[!UICONTROL 会话]容器可以识别页面交互、促销活动或特定会话的转化。您可以将此容器重命名为“访问”或您喜欢的任何其他术语。 |
| [!UICONTROL 事件容器名称是…] | [!UICONTROL 事件]（默认）。[!UICONTROL 事件]容器定义要在过滤器中包含或排除的页面事件。 |

接下来，您可以根据架构元素创建量度和维度。您也可以使用标准组件。

## 2. 根据架构元素创建量度和维度

1. 在 [!UICONTROL Customer Journey Analytics] > [!UICONTROL 数据视图]中，单击[!UICONTROL 组件]选项卡。

![](assets/components-tab.png)

您可以在左上角看到[!UICONTROL 连接]，其中包含数据集及其下方的[!UICONTROL 架构字段]。请记住以下事项：

* 已添加的组件是所需的标准组件（系统生成的）。
* Adobe默认应用筛选器&#x200B;**[!UICONTROL 包含数据]**，以便仅显示包含数据的架构字段。 如果要查找不包含数据的字段，请删除该过滤器。

1. 下面，将架构字段（例如 [!UICONTROL pageTitle]）从左边栏拖入“量度”或“维度”部分中。

   您可以将同一架构字段拖入“量度”或“维度”部分中多次，并以不同方式配置同一维度或量度。
例如，从 **[!UICONTROL pageTitle]** 字段中，您可以通过重命名右侧的&#x200B;**[!UICONTROL 组件名称]**&#x200B;来创建一个名为“产品页面”的维度以及另一个“错误页面”等。从 **[!UICONTROL pageTitle]** 字段中，您还可以根据字符串值创建量度。例如，您可以创建一个或多个&#x200B;**[!UICONTROL 订单]**&#x200B;量度，其中包含不同的归因设置和不同的添加/排除值。

   ![](assets/components-tab-3.png)

   >[!NOTE]
   >
   >您可以从左边栏中拖入整个架构字段文件夹，它们会自动归入传统部分中。字符串字段最终会加入[!UICONTROL 维度]部分中，数字最终会加入[!UICONTROL 量度]部分中。或者，您也可以单击&#x200B;**[!UICONTROL 全部添加]**，以便添加所有架构字段。

1. 选择相应组件后，您会在右侧看到许多设置。使用下述设置配置该组件。

### 配置组件设置

![](assets/component-settings.png)

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 组件类型] | 必需。使您可将组件从“量度”更改为“维度”，反之亦然。 |
| [!UICONTROL 组件名称] | 必需。可让您指定将在 Analysis Workspace 中显示的友好名称。您可以重命名组件，为其提供数据视图特定名称。 |
| [!UICONTROL 描述] | 为其他用户提供组件的相关信息是可选的，但建议提供。 |
| [!UICONTROL 标记] | 可选。可让您使用自定义或现成标记为组件添加标签，以便于在 Analysis Workspace UI 中搜索/过滤。 |
| [!UICONTROL 字段名称] | 架构字段的名称。 |
| [!UICONTROL 数据集类型] | 必需。显示组件来自哪个数据集类型（事件、查询或个人资料）的不可编辑字段。 |
| [!UICONTROL 数据集] | 必需。显示组件来自哪个类型的字段（例如字符串、整数等）的不可编辑字段。此字段可以包含多个数据集。 |
| [!UICONTROL 架构数据类型] | 指组件是否为字符串、整数等。  虽然您可以在Platform中使用任何受支持的架构字段类型，但CJA并不支持所有字段类型。 支持以下数据类型：`Integer`、`Int`、`Long`、`Double`、`Float`、`Number`、`Short`、`Byte`、`String`和`Boolean`。 请注意，目前Lookup数据集中仅允许使用字符串。 |
| [!UICONTROL 组件 ID] | 必需。[CJA API](https://adobe.io/cja-apis/docs) 使用此字段引用组件。您可以单击修改图标并修改此组件 ID。但是，更改此组件 ID 会破坏包含此组件的所有现有 Workspace 项目。<br>如果您曾创建另一个对 pageTitle 维度使用不同字段的数据视图，则可以对其进行重命名并使该维度跨数据视图兼容。 |
| [!UICONTROL 架构路径] | 必需。显示组件来自的架构路径的不可编辑字段。 |
| [!UICONTROL 在报告中隐藏组件] | 默认 = 关闭。可让您在数据视图中管理用于报告的组件。这不会影响许可，只用于管理组件。换言之，您可以在报告中对非管理员用户隐藏组件。管理员仍可以访问该组件，只需在 Analysis Workspace 项目中单击[!UICONTROL 显示所有组件]即可。 |

### 配置格式设置

格式设置仅适用于量度。

![](assets/format-settings.png)

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 格式] | 可让您指定量度的格式，例如小数、时间、百分比或货币。 |
| [!UICONTROL 小数位] | 可让您指定量度应显示的小数位数。 |
| [!UICONTROL 将上升趋势显示为] | 可让您指定应将此量度上的上升趋势视为良好（绿色）还是不良（红色）。 |
| [!UICONTROL 货币] | 仅在所选的量度格式为[!UICONTROL 货币]时，此设置才会显示。提供了货币选项列表。默认为无货币。这可让您在报告中以所选的货币表示收入。这并非货币兑换，只是 UI 格式选项。 |

### 配置归因设置

![](assets/attribution-settings.png)

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 设置归因] | 可让您指定要在默认情况下对此量度（如果使用）应用的归因设置。此默认值可以在[!UICONTROL 自由格式表]或计算量度中覆盖。 |
| [!UICONTROL 归因模型] | 可让您指定默认归因模型 — 仅在您开启[!UICONTROL 使用非默认归因模型]设置时有效。默认为[!UICONTROL 最近联系]。选项有：最近联系、首次联系、线性、参与率、同一接触、U 形、J 曲线、反向 J、时间衰减、自定义、算法。其中一些选项会创建需要填写的其他字段，例如“自定义”或“时间衰减”。您可以使用同一字段创建多个量度，这意味着您可以基于架构中的同一收入字段创建一个[!UICONTROL 最近联系]收入量度和一个[!UICONTROL 首次联系]收入量度。 |
| [!UICONTROL 回顾时间范围] | 可让您为量度指定默认回顾时间范围 — 仅在您开启[!UICONTROL 使用非默认归因模型]设置时有效。选项包括：[!UICONTROL Person]（报告窗口）、[!UICONTROL Session]、[!UICONTROL Custom]。 选择[!UICONTROL Custom]后，我们还为您提供选择任意天数/周/月/等的选项。 （最长90天），与[!UICONTROL Attribution IQ]类似。 您可以使用同一架构字段创建多个量度，但每个量度都有不同的回顾时间范围。 |

### 配置“添加/排除值”设置

此设置可让您在查询时修改要报告的底层数据。它与过滤器不同。但过滤器会遵循此新维度，就像路径和归因一样。

例如，您可以根据 pageTitle 字段创建一个维度，但将其命名为“错误页面”，并添加[!UICONTROL 包含短语]“错误”的任何页面。

![](assets/include-exclude.png)

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 区分大小写] | 默认 = 开启。此设置仅适用于[!UICONTROL 添加/排除值]部分。它可让您指明要应用的添加/排除规则是否应区分大小写。 |
| [!UICONTROL 匹配] | 用于指定您想要在归因和过滤之前考虑用于报告的值（例如，仅使用包含短语“错误”的值）。您可以指定：**[!UICONTROL 如果满足所有条件]**&#x200B;或&#x200B;**[!UICONTROL 如果满足任意条件]**。 |
| [!UICONTROL 条件] | 用于指定应该应用于特定过滤器规则的匹配逻辑。<ul><li>**字符串**：包含短语、包含任何术语、包含所有术语、不包含任何术语、不包含短语、等于、不等于、开头为、结尾为</li><li>**双精度/整数**：等于、不等于、大于、小于、大于或等于、小于或等于</li><li>**日期**：等于、不等于、晚于、早于、期间</li></ul> |
| [!UICONTROL 匹配运算数] | 用于指定应将匹配运算符应用到的匹配运算数。<ul><li>**字符串**：文本字段</li><li>**双精度/整数**：数值类型的文本字段（带上/下箭头）</li><li>**日期**：日期粒度选择器（日历）</li><li>**日期时间**：日期和时间粒度选择器</li></ul> |
| [!UICONTROL 添加规则] | 用于指定附加匹配运算符和运算数。 |

### 配置行为设置

允许您指定量度在报表中的行为方式。

![](assets/behavior-settings.png)

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 对值计数] | 仅对于布尔量度，此设置允许您指定是要将[!UICONTROL Count True]、[!UICONTROL Count False]或[!UICONTROL Count True或False]作为量度值。 默认值为[!UICONTROL Count True]。 这会为您提供量度的实际值，如顺序值为50时的“50”。 |
| [!UICONTROL 计数实例] | 用于指定用作量度的数值或日期类型字段是否应统计设置该字段的次数（而非值本身）。<br> 如果您要合计数值字段的实例数并想只合计字段的&#x200B;*设置*&#x200B;次数（而非其中的实际值）。<br>这用于根据[!UICONTROL 收入]字段创建[!UICONTROL 订单]量度，例如：如果设置了收入，那么我们想统计 1 个订单（而非数值收入金额）。 |

### 配置[!UICONTROL 无值选项]设置

[!UICONTROL 无值选项]设置相当于报告中的[!UICONTROL 未指定]或[!UICONTROL 无]值。在数据视图 UI 中，您可以根据组件决定如何在报告中处理这些值。您也可以将[!UICONTROL 无值]重命名为更符合您环境的名称，例如[!UICONTROL 空]、[!UICONTROL 未设置]或其他名称。

另请注意，您在此字段中指定的任何值都可用于对报告中的[!UICONTROL 无值]行项目进行特殊 UI 处理，如[!UICONTROL 无值选项]设置中所示。

![](assets/no-value-options.png)

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 如果显示，则调用“无值”...] | 在这种情况下，您可以将&#x200B;**[!UICONTROL 无值]**&#x200B;重命名为其他名称。 |
| [!UICONTROL 默认不显示“无值”] | 不要在报告中显示此值。 |
| [!UICONTROL 默认显示“无值”] | 在报告中显示此值。 |
| [!UICONTROL 将“无值”视为值] | 此设置会将数据中的空白值替换为您在[!UICONTROL 如果显示，则调用“无值”...]下方指定的文本。例如，如果您将“移动设备类型”作为维度，则可以将&#x200B;**[!UICONTROL 无值]**&#x200B;项重命名为“桌面”。请注意，如果您将此字段更改为自定义值，自定义值将被视为合法字符串值。因此，如果在此字段中输入值“红色”，则数据本身中显示的字符串“红色”的所有实例都将滚动到您指定的同一行项目下。 |

### 配置持久性设置

![](assets/persistence.png)

有关更多信息，请参阅与[持久性](/help/data-views/persistence.md)有关的主题。

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 设置持久性] | 切换键 |
| [!UICONTROL 分配] | 用于为持久性指定维度中使用的分配模型。选项有：[!UICONTROL 最近]、[!UICONTROL 原有]、[!UICONTROL 实例]、[!UICONTROL 全部]。如果您要保留某个值（与传统 Analytics 中的 eVar 类似），可以在这里设置它。唯一区别在于您可以设置的最长保留时间是 90 天。另外，无法选择[!UICONTROL 永不过期]。 |
| [!UICONTROL 到期] | 用于为维度指定持久性窗口。选项有：[!UICONTROL 会话]（默认）、[!UICONTROL 人员]、[!UICONTROL 时间]、[!UICONTROL 量度]。您可能需要能够使维度在购买后过期（例如内部搜索词或其他促销用例）。[!UICONTROL 量度]用于将定义的所有量度指定为此维度的到期（例如，[!UICONTROL 购买]量度）。<br>**注意**:选择“全部”分配时，无法为维度设置自定义过 [!UICONTROL 期]。 |

### 配置“值分段”设置

例如，分段“介于 5 和 10 之间”将在 Workspace 报告中显示为“5 到 10”行项目。

![](assets/value-bucketing.png)

| 设置 | 描述/用例 |
| --- | --- |
| [!UICONTROL 分段值] | 可让您创建数值维度的分段版本。这样，您就可以报告收入分段或其他数值并在报告中将其显示为维度。 |
| [!UICONTROL 最高] | 用于指定第一个数值维度分段的边界。这仅适用于数值维度。 |
| [!UICONTROL 介于之间] | 用于指定后续数值维度分段的边界。 |
| [!UICONTROL 添加分段] | 用于向数值维度分段添加其他分段。 |

### 使用[!UICONTROL 标准组件]

除了根据架构元素创建量度和维度外，您还可以使用数据视图中的标准组件。

[!UICONTROL 标准组件]不是根据数据集架构字段生成的组件，而是系统生成的组件。部分系统组件是任何数据视图中的必需组件，用以实现 Analysis Workspace 中的报告功能，而其他系统组件是可选的。

![](assets/standard-components.png)

默认情况下，这些必需的标准组件会添加到每个数据视图。

| 组件名称 | 维度或量度 | 注释 |
| --- | --- | --- |
| [!UICONTROL 人员] | 量度 | 此量度基于[!UICONTROL 连接]中指定的人员ID。 |
| [!UICONTROL 会话] | 量度 | 此量度基于下面指定的会话流程设置。 |
| [!UICONTROL 事件] | 量度 | 此量度表示[!UICONTROL Connection]中所有事件数据集的行数。 |
| [!UICONTROL 日] | 维度 | “日”维度报告给定量度出现的日期。第一个维度项是日期范围内的第一天，最后一个维度项是日期范围内的最后一天。 |
| [!UICONTROL 周] | 维度 | “周”维度报告给定量度出现的周。第一个维度项是日期范围内的第一周，最后一个维度项是日期范围内的最后一周。 |
| [!UICONTROL 月] | 维度 | “月”维度报告给定量度出现的月。第一个维度项是日期范围内的第一个月，最后一个维度项是日期范围内的最后一个月。 |
| [!UICONTROL 季度] | 维度 | “季度”维度报告给定量度出现的季度。第一个维度项是日期范围内的第一个季度，最后一个维度项是日期范围内的最后一个季度。 |
| [!UICONTROL 年] | 维度 | “年”维度报告给定量度出现的年。第一个维度项是日期范围内的第一个年份，最后一个维度项是日期范围内的最近年份。 |
| [!UICONTROL 小时] | 维度 | “小时”维度报告给定量度出现的小时（向下舍入）。第一个维度项是日期范围内的第一个小时，最后一个维度项是日期范围内的最后一个小时。 |
| [!UICONTROL 分钟] | 维度 | “分钟”维度报告给定量度出现的分钟（向下舍入）。第一个维度项是日期范围内的第一分钟，最后一个维度项是日期范围内的最后一分钟。 |

### 可选标准组件

**[!UICONTROL 标准组件]**&#x200B;选项卡下提供了可选标准组件。

| 组件名称 | 维度或量度 | 注释 |
| --- | --- | --- |
| [!UICONTROL 会话开始] | 量度 | 此量度用于统计作为会话中第一个事件的事件数。用在过滤器定义（例如“[!UICONTROL 会话开始]”）中时，它会逐渐过滤以仅显示每个会话的第一个事件。 |
| [!UICONTROL 会话结束] | 量度 | 此量度用于统计作为会话中最后一个事件的事件数。与[!UICONTROL 会话开始]类似，它也用在过滤器定义中，用以逐渐过滤以仅显示每个会话的最后一个事件。 |
| [!UICONTROL 逗留时间（秒）] | 量度 | [!UICONTROL 逗留时间]量度用于合计维度的两个不同值之间的时间间隔。 |
| [!UICONTROL 每个事件逗留时间] | 维度 | [!UICONTROL 每个事件逗留时间] 将[!UICONTROL 逗留时间]量度存储为[!UICONTROL 事件]分段。 |
| [!UICONTROL 每个会话逗留时间] | 维度 | [!UICONTROL 每个会话逗留时间] 将[!UICONTROL 逗留时间]量度存储为[!UICONTROL 会话]分段。 |
| [!UICONTROL 每人逗留时间] | 维度 | [!UICONTROL 每人逗留时间] 将[!UICONTROL 逗留时间]量度存储为[!UICONTROL 人员]分段。 |
| [!UICONTROL 批次 ID] | 维度 | 表示某个[!UICONTROL 事件]所属的 Experience Platform 批次。 |
| [!UICONTROL 数据集 ID] | 维度 | 表示某个[!UICONTROL 事件]所属的 Experience Platform 数据集。 |

## 使用[!UICONTROL 复制]功能

复制量度或维度，然后修改特定设置是从单个架构字段创建多个量度或维度的简便方法。 只需选择右上角量度或维度名称下方的[!UICONTROL 复制]设置。 然后，修改新量度或维度，并使用更具描述性的名称保存该量度或维度。

![](assets/duplicate.png)

### 过滤架构字段和维度/量度

您可以按以下数据类型过滤左边栏中的架构字段：

![](assets/filter-fields.png)

您还可以按数据集过滤，以及按某个架构字段是否包含数据或是否为标识过滤。默认情况下，我们会对所有数据视图应用&#x200B;**[!UICONTROL 包含数据]**&#x200B;过滤器。

![](assets/filter-other.png)

## 向数据视图添加全局过滤器

您可以添加应用于整个数据视图的过滤器：此过滤器将应用于您在 Workspace 中生成的任何报告。

1. 单击[!UICONTROL 数据视图]中的[!UICONTROL 设置]选项卡。
1. 将过滤器从左边栏中的列表拖到[!UICONTROL 添加过滤器]字段。
